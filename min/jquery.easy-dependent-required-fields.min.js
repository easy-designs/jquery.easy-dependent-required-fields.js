/* Dependent Required Fields (c) Aaron Gustafson (@AaronGustafson). MIT License. http://github.com/easy-designs/jquery.easy-dependent-required-fields.js */
(function(d,b){if(b.length){var g=d([]),e="label",a="required",f=a+"-dependency",h=a+"-dependencies",c=d('<abbr title="required">*</abbr>'),i="abbr[title=required]";b.each(function(){var l=d(this),j=l.closest("form"),k=d('[name="'+l.data(f+"-field")+'"]',j),n=l.data(f+"-value").toLowerCase().split(","),m=k.data(h)||[];l.data(e,d(e+"[for="+l.attr("id")+"]",j));m.push({$field:l,trigger_value:n});k.data(h,m);g=g.add(k)}).on("field.require",function(){$label=d(this).attr(a,a).data(e);if($label.length&&!$label.find(i).length){$label.append(c.clone())}}).on("field.un-require",function(){$label=d(this).removeAttr(a).data(e);if($label.length){$label.find(i).remove()}});g.on("change keyup",function(){var j=d(this),k=j.data(h);d.each(k,function(m,l){if(d.inArray(j.val().toLowerCase(),l.trigger_value)!==-1){l.$field.trigger("field.require")}else{l.$field.trigger("field.un-require")}})})}})(jQuery,jQuery("[data-required-dependency-field]"));